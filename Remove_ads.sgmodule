#!name=ÁßªÈô§ÂπøÂëä
#!desc=Êõ¥Êñ∞Êó∂Èó¥ 2024-09-10
#!system=ios

[Rule]
# > ÂæÆ‰ø°Ê∂àÊÅØ
DOMAIN-SUFFIX,weixin.qq.com,ùóóùóúùó•ùóòùóñùóß,extended-matching
# Speedtest
DOMAIN-SUFFIX, ad.gt, REJECT
# > Boxjs ‰ª£ÁêÜ
DOMAIN-KEYWORD,jsdelivr.net,ùó£ùó•ùó¢ùó´ùó¨
# > Sub-Store ‰ª£ÁêÜ
DOMAIN,sub-store.vercel.app,ùó£ùó•ùó¢ùó´ùó¨
# > Script-Hub ‰ª£ÁêÜ
DOMAIN,scripthub.vercel.app,ùó£ùó•ùó¢ùó´ùó¨
# > ÂøÉÂä®Ê∫ê‰ª£ÁêÜ
DOMAIN-SUFFIX,applehub.cn,ùó£ùó•ùó¢ùó´ùó¨
# > Siri‰∏éÊêúÁ¥¢ ‰ª£ÁêÜ
PROCESS-NAME,LookupViewService,ùó£ùó•ùó¢ùó´ùó¨
PROCESS-NAME,/System/Library/PrivateFrameworks/Lookup.framework/Versions/A/XPCServices/LookupViewService.xpc/Contents/MacOS/LookupViewService,ùó£ùó•ùó¢ùó´ùó¨
DOMAIN,lookup-api.apple.com,ùó£ùó•ùó¢ùó´ùó¨
DOMAIN,lookup-api.apple.com.edgekey.net,ùó£ùó•ùó¢ùó´ùó¨
DOMAIN,e16991.b.akamaiedge.net,ùó£ùó•ùó¢ùó´ùó¨
# > ÂÆâÂÖ®ÊµèËßàÈôêÂà∂Ëß£Èô§
DOMAIN, lookup.api.bsb.baidu.com, REJECT
DOMAIN-SUFFIX, u3.ucweb.com, REJECT
DOMAIN-KEYWORD, safebrowsing., REJECT
# > Safari Èò≤Ë∑≥ËΩ¨
DOMAIN,app-site-association.cdn-apple.com,REJECT
# > Áà±Â•áËâ∫ ÂéªÂπøÂëä
DOMAIN-SUFFIX,cupid.iqiyi.com,REJECT
# > ‰ºòÈÖ∑ ÂéªÂπøÂëä
DOMAIN, iyes.youku.com,REJECT
URL-REGEX,^http:\/\/.*\.cp31\.ott\.cibntv\.net\/youku\/,REJECT-TINYGIF
# > ‰∫¨‰∏ú ÂéªÂπøÂëä
URL-REGEX, ^http:\/\/\w{32}\.jddebug\.com\/diagnose\?, REJECT
URL-REGEX,^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=(searchBoxWord|stationPullService|uniformRecommend[06]),REJECT
#  > ‰∫¨‰∏úÊûÅÈÄüÁâà ÂéªÂπøÂëä
URL-REGEX,https://api.m.jd.com/client.action\?functionId=lite_advertising,REJECT-TINYGIF
URL-REGEX,^https:\/\/img11.360buyimg.com\/dl\/jfs\/t1\/195304\/29\/12317\/268480\/60e6fd21E02a8fb2a\/,REJECT-TINYGIF
# > ‰∫¨Âñú ÂéªÂºÄÂ±è
URL-REGEX,^https:\/\/api\.m\.jd\.com\/api\?functionId=delivery_show$,REJECT
URL-REGEX,^http:\/\/m\.360buyimg\.com\/deliveryadmin\/jfs\/t1,REJECT
#  > ‰∫¨‰∏úÈáëËûç ÂéªÂπøÂëä
URL-REGEX,^https?:\/\/ms\.jr\.jd\.com\/gw\/generic\/aladdin\/(new)?na\/m\/getLoadingPicture,REJECT
URL-REGEX,^https?:\/\/ms\.jr\.jd\.com\/gw\/generic\/base\/(new)?na\/m\/adInfo ,REJECT
# > ‰∫¨‰∏úËØª‰π¶ÂéªÂºÄÂ±è
URL-REGEX,https://jdread-api.jd.com/jdread/api/channel/module/opens,REJECT
URL-REGEX,https://jdread-api.jd.com/jdread/api/popup,REJECT
# > ËÖæËÆØËßÜÈ¢ë ÂéªÂºÄÂ±è
URL-REGEX,^https:\/\/ossgw\.alicdn\.com\/creatives-assets/prod/feupload/user,REJECT
IP-CIDR,47.110.187.87/32,REJECT,no-resolve
OR,((DOMAIN,pgdt.gtimg.cn), (AND,((USER-AGENT,live4iphoneRel*), (IP-CIDR,0.0.0.0/0,no-resolve)))),REJECT-DROP
# > ‰∫§ÁÆ°12123 ÂéªÂπøÂëä
URL-REGEX,^https:\/\/gab\.122\.gov\.cn\/eapp\/m\/sysquery\/adver$,REJECT
# > ‰∫ëÈó™‰ªò ÂéªÂπøÂëä
//DOMAIN, ads.95516.com, REJECT
//DOMAIN, switch.cup.com.cn, REJECT
//DOMAIN, tysdk.95516.com, REJECT
URL-REGEX,^https:\/\/wallet\.95516\.com\/s\/wl\/icon\/long,REJECT
# > ÁæéÂõ¢ ÂéªÂπøÂëä
URL-REGEX,^https:\/\/flowplus\.meituan\.net\/v1\/mss_\w+\/linglong\/\d+\.jpg$,REJECT
URL-REGEX,^https:\/\/s3plus\.meituan\.net\/v1\/mss_\w+\/(brandcpt-vedio|waimai-alita)\/\w+\.zip$,REJECT
# > ÊãºÂ§öÂ§ö ÂéªÂºÄÂ±è
URL-REGEX,^https?:\/\/api\.(pinduoduo|yangkeduo)\.com\/api\/cappuccino\/splash,REJECT
# > Â®ÅÈîã ÂéªÂπøÂëä
URL-REGEX,^https:\/\/api\.wfdata\.club\/v2\/yesfeng\/(infoCenterAd|yesList),REJECT
# > ÊãõÂïÜÈì∂Ë°å
URL-REGEX,^https:\/\/mbmodule-openapi\.paas\.cmbchina\.com\/graphic\/v2\/module\/graphic,REJECT
URL-REGEX,^https?:\/\/webappcfg\.paas\.cmbchina\.com\/v\d\/func\/getmarketconfig,REJECT
# > ‰π∞ÂçïÂêß
URL-REGEX,^https?:\/\/creditcardapp\.bankcomm\.cn\/mappweb_interface\/common\/(qryPopAds|qryLaunchAds)\.do ,REJECT
# > Ëà™ÊóÖÁ∫µÊ®™ *.umetrip.com, 
URL-REGEX,^http?:\/\/(flightstatus|home|umerp|discardrp)\.umetrip\.com\/gateway\/api\/umetrip\/native, REJECT
# > KFCÂºÄÂ±èÂπøÂëä
URL-REGEX,^https:\/\/res\.kfc\.com\.cn\/advertisement, REJECT
URL-REGEX,^https?:\/\/res\.kfc\.com\.cn\/CRM\/kfcad\/apphome6\/\w+\.json\?, REJECT
URL-REGEX,^https?:\/\/res\.kfc\.com\.cn\/CRM\/kfcad\/apphome5\/apphome, REJECT
# ÊãõË°åÊéå‰∏äÁîüÊ¥ª (ÈúÄÂç∏ËΩΩÈáçË£Ö)
# ÂºÄÂ±èÂπøÂëä mbasecc.bas.cmbchina.com
URL-REGEX,^https:\/\/mbasecc\.bas\.cmbchina\.com\/Edge\/api\/mlife\.clientface\.clientservice\.api\.advertiseService\/preCacheAdvertiseSec, REJECT
#ËÆæÁΩÆÊ†èÁõÆÂÜÖÂπøÂëä intellicc.bas.cmbchina.com
URL-REGEX,^https?:\/\/intellicc\.bas\.cmbchina\.com\/Edge\/api\/mlife\.intelli\.render\.api\.render\/getDynamicDataSec, REJECT
# È¶ñÈ°µÈöèÊú∫ÂºπÁ™ó
URL-REGEX,^https?:\/\/intellicc\.bcs\.cmbchina\.com\/Edge\/api\/mlife\.intelli\.adrender\.api\.AdWork\/getAdsBySlotId, REJECT
# > È£ûÁå™ÂéªÂºÄÂ±èÂπøÂëä
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.fliggy\.crm\.screen\.(allresource|predict) ,REJECT
# > Ê∑òÁ•®Á•®ÂºÄÂ±è
URL-REGEX,^https?:\/\/acs\.m\.taobao\.com\/gw\/mtop\.film\.mtopadvertiseapi\.(queryadvertise|queryloadingbanner)\/, REJECT
# > ÈòøÈáåÂ∑¥Â∑¥ //acs.m.taobao.com, heic.alicdn.com, guide-acs.m.taobao.com, poplayer.template.alibaba.com
DOMAIN, adashx.m.taobao.com, REJECT
DOMAIN, ossgw.alicdn.com, REJECT
DOMAIN, ems.youku.com, REJECT
DOMAIN, hudong.alicdn.com, REJECT
DOMAIN, h-adashx.ut.taobao.com, REJECT
DOMAIN, ut.taobao.com, REJECT
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.alibaba\.advertisementservice\.getadv, REJECT
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.alimama\.etao\.config\.query\/.+?etao_advertise, REJECT
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.alimusic\.common\.mobileservice\.startinit, REJECT
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.etao\.noah\.query\/.+tao_splash, REJECT
URL-REGEX,^https:\/\/heic\.alicdn\.com\/imgextra\/i\d\/\d*\/?[\w!]+-\d-(octopus|tps-1125-1602|tps-1080-1920)\.(jp|pn)g_(1\d{3}|9\d{2})x(1\d{3}|9\d{2})q[59]0, REJECT-TINYGIF
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.o2o\.ad\.gateway\.get, REJECT
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.taobao\.idle\.home\.welcome, REJECT
URL-REGEX,^https:\/\/acs\.m\.taobao\.com\/gw\/mtop\.trip\.activity\.querytmsresources, REJECT
URL-REGEX,^https:\/\/guide-acs\.m\.taobao\.com\/gw\/mtop\.taobao\.(volvo\.secondfloor\.getconfig|wireless\.home\.newface\.awesome\.get), REJECT
# > Ëê§Áü≥‰∫ë
URL-REGEX,^https?:\/\/i\.ys7\.com\/api\/ads\/, REJECT
# > Âª∫ËÆæÈì∂Ë°å
DOMAIN-KEYWORD, adv.ccb.com, REJECT
//URL-REGEX,^http:\/\/imageadv\.ccb\.com\/adpic\/nctm\/ad\.png,REJECT
# > È•ø‰∫Ü‰πà ÂéªÂπøÂëä
URL-REGEX,^https?:\/\/elemecdn.com\/.+\/sitemap,REJECT
URL-REGEX,^https?:\/\/fuss10.elemecdn.com\/.+\/w\/640\/h\/\d{3,4},REJECT
URL-REGEX,^https?:\/\/fuss10.elemecdn.com\/.+\/w\/750\/h\/\d{3,4},REJECT
URL-REGEX,^https?:\/\/cube\.elemecdn\.com\/\w\/\w{2}\/\w+mp4\.mp4\?,REJECT
URL-REGEX,^https?:\/\/www1\.elecfans\.com\/www\/delivery\/,REJECT
# > Ë•øÁ™óÁÉõ
^https?:\/\/lchttpapi\.xczim\.com\/1\.1\/functions\/getLaunchImageForIOS,REJECT


[Map Local]
# > ÂæÆ‰ø°ÂÖ¨‰ºóÂè∑Â∫ïÈÉ® mp.weixin.qq.com
^https?:\/\/mp\.weixin\.qq\.com\/mp\/getappmsgad data="https://raw.githubusercontent.com/Keywos/rule/main/mocks//WeChat.json"
# > ÁôæÂ∫¶Âú∞Âõæ
//^https?:\/\/newclient\.map\.baidu\.com\/client\/phpui.*qt=rgc data="https://raw.githubusercontent.com/mieqq/mieqq/master/reject-200.txt"
//^https?:\/\/newclient\.map\.baidu\.com\/client\/phpui.*qt=hw data="https://raw.githubusercontent.com/mieqq/mieqq/master/reject-200.txt"
//^https?:\/\/newclient\.map\.baidu\.com\/client\/phpui2\/\?qt=ads data="https://raw.githubusercontent.com/mieqq/mieqq/master/reject-200.txt"
//^https?:\/\/httpdns\.baidubce\.com data="https://raw.githubusercontent.com/mieqq/mieqq/master/reject-200.txt"
//^https?:\/\/newclient\.map\.baidu\.com\/client\/crossmarketing data="https://raw.githubusercontent.com/mieqq/mieqq/master/reject-200.txt"
//^https?:\/\/newclient\.map\.baidu\.com\/client\/usersystem\/home\/dynamic data="https://raw.githubusercontent.com/mieqq/mieqq/master/reject-200.txt"

[URL Rewrite]
# > ‰∫¨‰∏úÊûÅÈÄüÁâàÂéªÂºπÁ™ó
^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=lite_SmartPush response-body pushData response-body ddgksf2013
^https?:\/\/api\.m\.jd\.com\/client\.action\?functionId=lite_advertising url response-body jdLiteAdvertisingVO response-body ddgksf2013

# > ÊÖ¢ÊÖ¢‰π∞
^https?:\/\/apapia-sqk\.manmanbuy\.com\/index_json\.ashx url response-body splashAD response-body ddgksf2013



[Script]
# > Ê∑òÂÆùÂéªÂºÄÂ±èÂπøÂëä
Ê∑òÂÆùÂºÄÂ±è = type=http-response, pattern=^https:\/\/guide-acs\.m\.taobao\.com\/gw\/mtop\.taobao\.(cloudvideo\.video\.query|wireless\.home\.splash\.awesome\.get), requires-body=1, max-size=0, script-path=https://raw.githubusercontent.com/RuCu6/QuanX/main/Scripts/myBlockAds.js
Ê∑òÂÆùÂºÄÂ±è = type=http-response, pattern=^https:\/\/poplayer\.template\.alibaba\.com\/\w+\.json, requires-body=1, max-size=0, script-path=https://raw.githubusercontent.com/RuCu6/QuanX/main/Scripts/myBlockAds.js
# > ‰∫¨‰∏úÂéªÂπøÂëä
‰∫¨‰∏úÂπøÂëä = type=http-response, pattern=^https:\/\/api\.m\.jd\.com\/client\.action\?functionId=(deliverLayer|getTabHomeInfo|myOrderInfo|orderTrackBusiness|personinfoBusiness|start|welcomeHome), requires-body=1, max-size=0, script-path=https://raw.githubusercontent.com/RuCu6/QuanX/main/Scripts/jingdong.js
# > Ëß£Èô§ÂæÆ‰ø°ÈìæÊé•ÈôêÂà∂
Ëß£Èô§ÂæÆ‰ø°ÈìæÊé•ÈôêÂà∂ = type=http-response,pattern=^https\:\/\/(weixin110\.qq|security\.wechat)\.com\/cgi-bin\/mmspamsupport-bin\/newredirectconfirmcgi\?,requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/RuCu6/QuanX/main/Scripts/wechat/wechat110.js
# > 12306ÂéªÂπøÂëä
12306ÂéªÂºÄÂ±è = type=http-request, pattern=^https:\/\/ad\.12306\.cn\/ad\/ser\/getAdList$, script-path=https://raw.githubusercontent.com/RuCu6/QuanX/main/Scripts/12306.js, requires-body=true, max-size=-1
12306ÂéªÂπøÂëä = type=http-response, pattern=^https:\/\/mobile\.12306\.cn\/otsmobile\/app\/mgs\/mgw\.htm$, script-path=https://raw.githubusercontent.com/RuCu6/QuanX/main/Scripts/header.js


[MITM]
hostname = %APPEND% *.360buyimg.com, ms.jr.jd.com, jdread-api.jd.com, ossgw.alicdn.com, gab.122.gov.cn, wallet.95516.com, flowplus.meituan.net, s3plus.meituan.net, api.pinduoduo.com, api.yangkeduo.com, api.wfdata.club, mbmodule-openapi.paas.cmbchina.com, webappcfg.paas.cmbchina.com, creditcardapp.bankcomm.cn, *.umetrip.com, res.kfc.com.cn, mbasecc.bas.cmbchina.com, intellicc.bas.cmbchina.com, acs.m.taobao.com, guide-acs.m.taobao.com, gw.alicdn.com, heic.alicdn.com, i.ys7.com, imageadv.ccb.com, elemecdn.com, fuss10.elemecdn.com, cube.elemecdn.com, nr-op.elemecdn.com, www1.elecfans.com, lchttpapi.xczim.com, mp.weixin.qq.com, 180.76.76.200, newclient.map.baidu.com, httpdns.baidubce.com, apapia-sqk.manmanbuy.com, mi.gdt.qq.com, open.e.kuaishou.com, imageadv.ccb.com, poplayer.template.alibaba.com, security.wechat.com, weixin110.qq.com, ad.12306.cn, mobile.12306.cn,

